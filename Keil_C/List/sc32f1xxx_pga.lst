L 1 "..\FWLib\SC32F1XXX_Lib\src\sc32f1xxx_pga.c"
N/**
N ******************************************************************************
N * @file    sc32f1xxx_pga.c
N * @author  SOC AE Team
N * @version V1.9-BetaV0
N * @date    2025-06-20
N * @brief   PGA function module
N ******************************************************************************
N * @attention
N *
N *1.This software is supplied by SinOne Microelectronics Co.,Ltd. and is only 
N *intended for use with SinOne products. No other uses are authorized. This 
N *software is owned by SinOne Microelectronics Co.,Ltd. and is protected under 
N *all applicable laws, including copyright laws. 
N *2.The software which is for guidance only aims at providing customers with 
N *coding information regarding their products in order for them to save time. 
N *As a result, SinOne shall not be held liable for any direct, indirect or 
N *consequential damages with respect to any claims arising from the content of 
N *such software and/or the use made by customers of the coding information 
N *contained herein in connection with their products.
N *
N *  COPYRIGHT 2025 SinOne Microelectronics
N ******************************************************************************
N */
N
N/* Includes ------------------------------------------------------------------*/
N#if defined(SC32f11xx)
X#if 0L
S#include "sc32f1xxx_pga.h"
S
S
S/** @defgroup PGA_Exported_Functions_Group1 Configuration of the PGA computation unit functions
S *  @brief   Configuration of the PGA computation unit functions
S *
S@verbatim
S ===============================================================================
S                     ##### PGA configuration functions #####
S ===============================================================================
S@endverbatim
S  * @{
S  */
S
S/**
S * @brief  DeInitialize the PGAx peripheral registers to their default reset values.
S * @param  PGAx[out]:where can to select the PGA peripheral.
S *                  - PGA:PGA peripheral select PGA
S * @retval None
S */
Svoid PGA_DeInit ( PGA_TypeDef* PGAx )
S{
S    uint32_t tmpreg;
S    /* Check the parameters */
S    assert_param ( IS_PGA_ALL_PERIPH ( PGAx ) );
S
S    if ( PGAx == PGA )
S    {
S        /* Get the PGAx PGA_CON value */
S        tmpreg = PGAx->PGA_CON;
S
S        /* Set PGAFS bit to PGA_FreqSelect value */
S        tmpreg &= 0xFF00;
S
S        /* Write to PGAx PGA_CON */
S        PGAx->PGA_CON = ( uint32_t ) tmpreg;
S    }
S}
S
S/**
S * @brief  DeInitializes the PGA peripheral
S * @param  PGAx[out]:where can to select the PGA peripheral.
S *                  - PGA:PGA peripheral select PGA
S * @param  PGA_InitStruct[out]: Pointer to structure PGA_InitTypeDef, to be initialized.
S * @retval None
S */
Svoid PGA_Init ( PGA_TypeDef* PGAx, PGA_InitTypeDef* PGA_InitStruct )
S{
S    uint32_t tmpreg;
S    /* Check the parameters */
S    assert_param ( IS_PGA_ALL_PERIPH ( PGAx ) );
S    assert_param ( IS_PGA_COM ( PGA_InitStruct->PGA_COM ) );
S    assert_param ( IS_PGA_GAN ( PGA_InitStruct->PGA_GAN ) );
S
S    assert_param ( IS_PGA_INSEL ( PGA_InitStruct->PGA_INSEL ) );
S
S
S    /*---------------------------- PGAx PGA_CON Configuration ------------------------*/
S    /* Get the PGAx PGA_CON value */
S    tmpreg = PGAx->PGA_CON;
S
S    /* Clear PGAFS bits */
S    tmpreg &= ( uint32_t ) ~ ( PGA_CON_PGACOM | PGA_CON_PGAGAN | PGA_CON_PGAIPT | PGA_CON_PGAINSEL );
S    /* Set PGAFS bit to PGA_FreqSelect value */
S    tmpreg |= ( uint32_t ) ( PGA_InitStruct->PGA_COM | PGA_InitStruct->PGA_GAN | PGA_InitStruct->PGA_INSEL );
S
S    /* Write to PGAx PGA_CON */
S    PGAx->PGA_CON = tmpreg;
S}
S
S/**
S * @brief  Enables or disables the specified PGA peripheral.
S * @param  PGAx[out]:where can to select the PGA peripheral.
S *                  - PGA:PGA peripheral select PGA
S * @param  NewState[in]: new state of the PGAx peripheral.
S *                  - DISABLE:Function disable
S *                  - ENABLE:Function enable
S * @retval None
S */
Svoid PGA_Cmd ( PGA_TypeDef* PGAx, FunctionalState NewState )
S{
S    /* Check the parameters */
S    assert_param ( IS_PGA_ALL_PERIPH ( PGAx ) );
S    assert_param ( IS_FUNCTIONAL_STATE ( NewState ) );
S
S    if ( NewState != DISABLE )
S    {
S        /* Enable the PGA Function */
S        PGAx->PGA_CON |= PGA_CON_ENPGA;
S    }
S    else
S    {
S        /* Disable the PGA Function */
S        PGAx->PGA_CON &= ( uint16_t ) ~PGA_CON_ENPGA;
S    }
S}
S
S/**
S  * @brief  Configure the trimming value of the OPAMP.
S	* @param  PGAx[out]:where can to select the PGA peripheral.
S	*                  - PGA:PGA peripheral select PGA
S  * @param  PGA_TrimValue[in]: the trimming value. This parameter can be any value lower
S  *         or equal to 0x0000001F.
S  * @retval None
S  */
Svoid PGA_OffsetTrimConfig ( PGA_TypeDef* PGAx,  uint32_t PGA_TrimValue )
S{
S    uint32_t tmpreg = 0;
S
S    /* Check the parameters */
S    assert_param ( IS_PGA_ALL_PERIPH ( PGA_Selection ) );
S    assert_param ( IS_PGA_TRIMMINGVALUE ( PGA_TrimValue ) );
S
S    /*!< Get the OPAMPx_CSR register value */
S    tmpreg = PGAx->PGA_CON;
S
S    /*!< Clear the trimming bits */
S    tmpreg &= ( ( uint32_t ) ~ ( PGA_CON_PGAOFS ) );
S
S    /*!< Configure the new trimming value */
S    tmpreg |= ( uint32_t ) ( PGA_TrimValue << PGA_CON_PGAOFS_Pos );
S
S    /*!< Write to OPAMPx_CSR register */
S    PGAx->PGA_CON = tmpreg;
S}
S
S/**
S  * @brief  Start or stop the calibration of selected OPAMP peripheral.
S  * @param  PGAx[out]:where can to select the PGA peripheral.
S	*                  - PGA:PGA peripheral select PGA
S  * @param  NewState[in]: new state of the OPAMP peripheral.
S  *                  - DISABLE:Function disable
S  *                  - ENABLE:Function enable
S  * @retval None
S  */
Svoid PGA_StartCalibration ( PGA_TypeDef* PGAx, FunctionalState NewState )
S{
S    /* Check the parameters */
S    assert_param ( IS_PGA_ALL_PERIPH ( PGA_Selection ) );
S    assert_param ( IS_FUNCTIONAL_STATE ( NewState ) );
S
S    if ( NewState != DISABLE )
S    {
S        /* Start the OPAMPx calibration */
S        PGAx->PGA_CON |= ( uint32_t ) ( PGA_CON_PGAOFC );
S    }
S    else
S    {
S        /* Stop the OPAMPx calibration */
S        PGAx->PGA_CON &= ( uint32_t ) ( ~PGA_CON_PGAOFC );
S    }
S}
N#endif
N/**
N * @}
N */
N
N/**
N * @}
N */
N
N/**
N * @}
N */
N
N/************************ (C) COPYRIGHT SOC Microelectronics *****END OF FILE****/
